<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Community for Farmers</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="../templates/style.css">
</head>
<body>
<header id="headerText">ЁЯСе Community for Farmers</header>
<div id="container">
    <label id="langLabel">Select Language:</label>
    <select id="languageSelect" onchange="setLanguage()">
        <option value="en">English</option>
        <option value="ta">родрооро┐ро┤рпН</option>
    </select>
    <h2 id="communityTitle">Community for Farmers Module</h2>
    <div id="communityChat" style="height:220px; overflow-y:auto; border:1px solid #cfd8dc; border-radius:8px; background:#f9fbe7; margin-bottom:12px; padding:10px;"></div>
    <input type="text" id="communityInput" placeholder="Ask a question or chat..." style="width:80%;">
    <button id="sendBtn" onclick="sendCommunityMsg()">Send</button>
    <br><br>
    <button id="backBtn" onclick="window.location.href='../marketplace.html'">Back to Home</button>
</div>
<script>
const translations = {
  en: {
    header: "ЁЯСе Community for Farmers",
    langLabel: "Select Language:",
    title: "Community for Farmers Module",
    placeholder: "Ask a question or chat...",
    send: "Send",
    back: "Back to Home",
    reply: "Farmer: Thanks for your question!"
  },
  ta: {
    header: "ЁЯСе ро╡ро┐ро╡роЪро╛ропро┐роХро│рпН роЪроорпВроХ роЙро░рпИропро╛роЯро▓рпН",
    langLabel: "роорпКро┤ро┐ропрпИ родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН:",
    title: "ро╡ро┐ро╡роЪро╛ропро┐роХро│рпН роЪроорпВроХ роЙро░рпИропро╛роЯро▓рпН рокроХрпБродро┐",
    placeholder: "роХрпЗро│рпНро╡ро┐ роХрпЗро│рпБроЩрпНроХро│рпН роЕро▓рпНро▓родрпБ роЙро░рпИропро╛роЯрпБроЩрпНроХро│рпН...",
    send: "роЕройрпБрокрпНрокрпБ",
    back: "роорпБроХрокрпНрокрпБроХрпНроХрпБ родро┐ро░рпБроорпНрокро╡рпБроорпН",
    reply: "ро╡ро┐ро╡роЪро╛ропро┐: роЙроЩрпНроХро│рпН роХрпЗро│рпНро╡ро┐роХрпНроХрпБ роиройрпНро▒ро┐!"
  }
};
function setLanguage() {
  const lang = document.getElementById("languageSelect").value;
  document.getElementById("headerText").innerText = translations[lang].header;
  document.getElementById("langLabel").innerText = translations[lang].langLabel;
  document.getElementById("communityTitle").innerText = translations[lang].title;
  document.getElementById("communityInput").placeholder = translations[lang].placeholder;
  document.getElementById("sendBtn").innerText = translations[lang].send;
  document.getElementById("backBtn").innerText = translations[lang].back;
}
function sendCommunityMsg() {
  const lang = document.getElementById("languageSelect").value;
  const input = document.getElementById("communityInput").value.trim();
  if (!input) return;
  const chat = document.getElementById("communityChat");
  chat.innerHTML += `<div style='text-align:right; color:#1976d2; margin-bottom:6px;'>${input}</div>`;
  setTimeout(() => {
    chat.innerHTML += `<div style='text-align:left; color:#388e3c; margin-bottom:6px;'>${translations[lang].reply}</div>`;
    chat.scrollTop = chat.scrollHeight;
  }, 800);
  document.getElementById("communityInput").value = "";
  chat.scrollTop = chat.scrollHeight;
}
document.addEventListener("DOMContentLoaded", setLanguage);
</script>
</body>
</html>
