<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AI Weather Forecasting</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: "Segoe UI", Tahoma, sans-serif;
    margin: 0;
    padding: 0;
    text-align: center;
    color: #333;
    min-height: 100vh;
    transition: all 0.5s ease;
    overflow-x: hidden;
  }

  /* Static default background - no animation until weather is fetched */
  .default {
    background: linear-gradient(135deg, #89f7fe, #66a6ff);
  }

  /* Dynamic backgrounds for different weather conditions - only animate when weather is fetched */
  .sunny {
    background: linear-gradient(135deg, #ff9a56, #ff6b35);
    animation: sunnyAnimation 10s infinite ease-in-out;
  }

  .cloudy {
    background: linear-gradient(135deg, #bdc3c7, #2c3e50);
    animation: cloudyAnimation 8s infinite ease-in-out;
  }

  .rainy {
    background: linear-gradient(135deg, #3a7bd5, #00d2ff);
    animation: rainyAnimation 6s infinite ease-in-out;
  }

  .snowy {
    background: linear-gradient(135deg, #e6f3ff, #4fc3f7);
    animation: snowyAnimation 12s infinite ease-in-out;
  }

  .stormy {
    background: linear-gradient(135deg, #2c3e50, #4a6741);
    animation: stormyAnimation 5s infinite ease-in-out;
  }

  .misty {
    background: linear-gradient(135deg, #bdc3c7, #e8e8e8);
    animation: mistyAnimation 8s infinite ease-in-out;
  }

  @keyframes sunnyAnimation {
    0%, 100% { background: linear-gradient(135deg, #ff9a56, #ff6b35); }
    50% { background: linear-gradient(135deg, #ffd89b, #ff8a50); }
  }

  @keyframes cloudyAnimation {
    0%, 100% { background: linear-gradient(135deg, #bdc3c7, #2c3e50); }
    50% { background: linear-gradient(135deg, #757f9a, #d7dde8); }
  }

  @keyframes rainyAnimation {
    0%, 100% { background: linear-gradient(135deg, #3a7bd5, #00d2ff); }
    50% { background: linear-gradient(135deg, #667eea, #764ba2); }
  }

  @keyframes snowyAnimation {
    0%, 100% { background: linear-gradient(135deg, #e6f3ff, #4fc3f7); }
    50% { background: linear-gradient(135deg, #a8edea, #fed6e3); }
  }

  @keyframes stormyAnimation {
    0%, 100% { background: linear-gradient(135deg, #2c3e50, #4a6741); }
    50% { background: linear-gradient(135deg, #34495e, #5d6d7e); }
  }

  @keyframes mistyAnimation {
    0%, 100% { background: linear-gradient(135deg, #bdc3c7, #e8e8e8); }
    50% { background: linear-gradient(135deg, #d5d8dc, #f8f9fa); }
  }

  /* Floating particles effect */
  .particles {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
  }

  .particle {
    position: absolute;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    animation: float 15s infinite linear;
  }

  /* Different particle effects for different weather */
  .sunny .particle {
    background: rgba(255, 215, 0, 0.4);
  }

  .rainy .particle {
    background: rgba(173, 216, 230, 0.6);
    border-radius: 0;
    width: 2px !important;
    height: 20px !important;
  }

  .snowy .particle {
    background: rgba(255, 255, 255, 0.8);
  }

  .stormy .particle {
    background: rgba(169, 169, 169, 0.5);
  }

  @keyframes float {
    0% {
      transform: translateY(100vh) rotate(0deg);
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    90% {
      opacity: 1;
    }
    100% {
      transform: translateY(-100px) rotate(360deg);
      opacity: 0;
    }
  }

  header {
    background: rgba(56, 142, 60, 0.9);
    color: white;
    font-size: 2em;
    font-weight: bold;
    padding: 20px;
    box-shadow: 0px 4px 20px rgba(0,0,0,0.3);
    backdrop-filter: blur(10px);
    position: relative;
    z-index: 10;
  }

  #container {
    margin: 40px auto;
    background: rgba(255, 255, 255, 0.95);
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0px 8px 32px rgba(0,0,0,0.2);
    max-width: 500px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    position: relative;
    z-index: 10;
    transform: translateY(0);
    transition: transform 0.3s ease;
  }

  #container:hover {
    transform: translateY(-5px);
  }

  label, select, input, button {
    display: block;
    margin: 15px auto;
    font-size: 1.1em;
  }

  /* Input container for autocomplete */
  .input-container {
    position: relative;
    width: 85%;
    margin: 15px auto;
  }

  input[type="text"] {
    padding: 15px;
    border: 2px solid #388e3c;
    border-radius: 12px;
    width: 100%;
    outline: none;
    transition: all 0.3s ease;
    font-size: 1em;
    background: rgba(255, 255, 255, 0.9);
  }

  input[type="text"]:focus {
    border-color: #2e7d32;
    box-shadow: 0px 0px 20px rgba(56,142,60,0.5);
    transform: scale(1.02);
  }

  /* Autocomplete dropdown */
  .autocomplete-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border: 2px solid #388e3c;
    border-top: none;
    border-radius: 0 0 12px 12px;
    max-height: 200px;
    overflow-y: auto;
    z-index: 1000;
    display: none;
  }

  .autocomplete-item {
    padding: 12px 15px;
    cursor: pointer;
    border-bottom: 1px solid #e0e0e0;
    transition: background-color 0.2s;
  }

  .autocomplete-item:hover {
    background-color: #f0f8f0;
  }

  .autocomplete-item:last-child {
    border-bottom: none;
  }

  select {
    padding: 12px;
    border: 2px solid #388e3c;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.9);
    cursor: pointer;
    transition: all 0.3s ease;
  }

  button {
    background: linear-gradient(135deg, #388e3c, #2e7d32);
    color: white;
    border: none;
    padding: 15px 25px;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: bold;
    box-shadow: 0px 4px 15px rgba(56,142,60,0.3);
  }

  button:hover {
    background: linear-gradient(135deg, #2e7d32, #1b5e20);
    transform: translateY(-2px);
    box-shadow: 0px 6px 20px rgba(56,142,60,0.4);
  }

  #weatherResult {
    margin-top: 25px;
    font-size: 1.2em;
    color: #444;
  }

  .weather-card {
    background: linear-gradient(135deg, rgba(241, 248, 246, 0.95), rgba(232, 245, 233, 0.95));
    border-radius: 20px;
    padding: 25px;
    margin-top: 20px;
    box-shadow: 0px 8px 25px rgba(0,0,0,0.15);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    animation: cardAppear 0.5s ease-out;
  }

  @keyframes cardAppear {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .weather-icon {
    font-size: 4em;
    margin: 10px 0;
    animation: bounce 2s infinite ease-in-out;
  }

  @keyframes bounce {
    0%, 20%, 50%, 80%, 100% {
      transform: translateY(0);
    }
    40% {
      transform: translateY(-10px);
    }
    60% {
      transform: translateY(-5px);
    }
  }

  .loading {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 3px solid #f3f3f3;
    border-top: 3px solid #388e3c;
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  .temperature {
    font-size: 2.5em;
    font-weight: bold;
    color: #2e7d32;
    margin: 15px 0;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
  }

  .weather-details {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-top: 20px;
  }

  .detail-item {
    background: rgba(255, 255, 255, 0.6);
    padding: 10px;
    border-radius: 10px;
    backdrop-filter: blur(5px);
  }

  .demo-note {
    background: rgba(255, 193, 7, 0.1);
    border: 1px solid rgba(255, 193, 7, 0.3);
    color: #856404;
    padding: 10px;
    border-radius: 8px;
    margin-top: 10px;
    font-size: 0.9em;
  }
</style>
</head>
<body class="default">
<div class="particles" id="particles"></div>

<header id="headerText">üå¶Ô∏è AI Weather Forecasting</header>

<div id="container">
    <label id="langLabel">Select Language:</label>
    <select id="languageSelect" onchange="setLanguage()">
        <option value="en">English</option>
        <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
    </select>

    <h2 id="weatherTitle">AI Weather Forecasting Module</h2>
    <p id="weatherDesc">Get the latest weather forecast for your location using AI-powered data.</p>

    <div class="input-container">
        <input type="text" id="locationInput" placeholder="Enter your city or village..." oninput="handleLocationInput()" onkeydown="handleKeyDown(event)">
        <div class="autocomplete-dropdown" id="autocompleteDropdown"></div>
    </div>
    <button id="getWeatherBtn" onclick="getWeather()">Get Forecast</button>

    <div id="weatherResult"></div>
    <br>
    <button id="backBtn" onclick="window.location.href='index.html'">‚¨Ö Back to Home</button>
</div>

<script>
const translations = {
  en: {
    header: "üå¶Ô∏è AI Weather Forecasting",
    langLabel: "Select Language:",
    title: "AI Weather Forecasting Module",
    desc: "Get the latest weather forecast for your location using AI-powered data.",
    placeholder: "Enter your city or village...",
    getWeather: "Get Forecast",
    back: "‚¨Ö Back to Home",
    error: "Could not fetch weather. Please try again.",
    result: city => `Weather for ${city}:`
  },
  ta: {
    header: "üå¶Ô∏è ‡Æè.‡Æê. ‡Æµ‡Ææ‡Æ©‡Æø‡Æ≤‡Øà ‡ÆÆ‡ØÅ‡Æ©‡Øç‡Æ©‡Æ±‡Æø‡Æµ‡ØÅ",
    langLabel: "‡ÆÆ‡Øä‡Æ¥‡Æø‡ÆØ‡Øà ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç:",
    title: "‡Æè.‡Æê. ‡Æµ‡Ææ‡Æ©‡Æø‡Æ≤‡Øà ‡ÆÆ‡ØÅ‡Æ©‡Øç‡Æ©‡Æ±‡Æø‡Æµ‡ØÅ ‡Æ™‡Æï‡ØÅ‡Æ§‡Æø",
    desc: "AI ‡ÆÆ‡ØÇ‡Æ≤‡ÆÆ‡Øç ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æá‡Æü‡Æ§‡Øç‡Æ§‡Æø‡Æ±‡Øç‡Æï‡ØÅ ‡Æö‡ÆÆ‡ØÄ‡Æ™‡Æ§‡Øç‡Æ§‡Æø‡ÆØ ‡Æµ‡Ææ‡Æ©‡Æø‡Æ≤‡Øà ‡ÆÆ‡ØÅ‡Æ©‡Øç‡Æ©‡Æ±‡Æø‡Æµ‡Øà ‡Æ™‡ØÜ‡Æ±‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç.",
    placeholder: "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ®‡Æï‡Æ∞‡ÆÆ‡Øç ‡ÆÖ‡Æ≤‡Øç‡Æ≤‡Æ§‡ØÅ ‡Æï‡Æø‡Æ∞‡Ææ‡ÆÆ‡ÆÆ‡Øç...",
    getWeather: "‡Æµ‡Ææ‡Æ©‡Æø‡Æ≤‡Øà ‡Æ™‡ØÜ‡Æ±‡Æµ‡ØÅ‡ÆÆ‡Øç",
    back: "‚¨Ö ‡ÆÆ‡ØÅ‡Æï‡Æ™‡Øç‡Æ™‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æ§‡Æø‡Æ∞‡ØÅ‡ÆÆ‡Øç‡Æ™‡Æµ‡ØÅ‡ÆÆ‡Øç",
    error: "‡Æµ‡Ææ‡Æ©‡Æø‡Æ≤‡Øà ‡Æ™‡ØÜ‡Æ± ‡ÆÆ‡ØÅ‡Æü‡Æø‡ÆØ‡Æµ‡Æø‡Æ≤‡Øç‡Æ≤‡Øà. ‡ÆÆ‡ØÄ‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç ‡ÆÆ‡ØÅ‡ÆØ‡Æ±‡Øç‡Æö‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç.",
    result: city => `${city}‡Æï‡Øç‡Æï‡ØÅ ‡Æµ‡Ææ‡Æ©‡Æø‡Æ≤‡Øà:`
  }
};

let selectedLocationData = null;

// Popular cities data for autocomplete and demo
const popularCities = [
  { name: "Chennai", country: "India", lat: 13.0827, lon: 80.2707 },
  { name: "Mumbai", country: "India", lat: 19.0760, lon: 72.8777 },
  { name: "Delhi", country: "India", lat: 28.7041, lon: 77.1025 },
  { name: "Bangalore", country: "India", lat: 12.9716, lon: 77.5946 },
  { name: "Kolkata", country: "India", lat: 22.5726, lon: 88.3639 },
  { name: "London", country: "UK", lat: 51.5074, lon: -0.1278 },
  { name: "New York", country: "USA", lat: 40.7128, lon: -74.0060 },
  { name: "Tokyo", country: "Japan", lat: 35.6762, lon: 139.6503 },
  { name: "Paris", country: "France", lat: 48.8566, lon: 2.3522 },
  { name: "Sydney", country: "Australia", lat: -33.8688, lon: 151.2093 }
];

function setLanguage() {
  const lang = document.getElementById("languageSelect").value;
  document.getElementById("headerText").innerText = translations[lang].header;
  document.getElementById("langLabel").innerText = translations[lang].langLabel;
  document.getElementById("weatherTitle").innerText = translations[lang].title;
  document.getElementById("weatherDesc").innerText = translations[lang].desc;
  document.getElementById("locationInput").placeholder = translations[lang].placeholder;
  document.getElementById("getWeatherBtn").innerText = translations[lang].getWeather;
  document.getElementById("backBtn").innerText = translations[lang].back;
}

// Location autocomplete functionality using popular cities
function handleLocationInput() {
  const input = document.getElementById("locationInput").value.trim().toLowerCase();
  const dropdown = document.getElementById("autocompleteDropdown");

  if (input.length < 2) {
    dropdown.style.display = "none";
    return;
  }

  // Filter popular cities based on input
  const filteredCities = popularCities.filter(city => 
    city.name.toLowerCase().includes(input) || 
    city.country.toLowerCase().includes(input)
  );

  if (filteredCities.length > 0) {
    showAutocompleteResults(filteredCities);
  } else {
    dropdown.style.display = "none";
  }
}

function showAutocompleteResults(results) {
  const dropdown = document.getElementById("autocompleteDropdown");
  dropdown.innerHTML = "";

  results.forEach(location => {
    const item = document.createElement("div");
    item.className = "autocomplete-item";
    item.textContent = `${location.name}, ${location.country}`;
    item.onclick = () => selectLocation(location);
    dropdown.appendChild(item);
  });

  dropdown.style.display = "block";
}

function selectLocation(location) {
  selectedLocationData = location;
  document.getElementById("locationInput").value = `${location.name}, ${location.country}`;
  document.getElementById("autocompleteDropdown").style.display = "none";
}

function handleKeyDown(event) {
  if (event.key === "Enter") {
    getWeather();
  }
}

// Hide dropdown when clicking outside
document.addEventListener("click", function(event) {
  const dropdown = document.getElementById("autocompleteDropdown");
  const input = document.getElementById("locationInput");
  
  if (!dropdown.contains(event.target) && event.target !== input) {
    dropdown.style.display = "none";
  }
});

// Only create particles initially - no animation
function createStaticParticles() {
  const particlesContainer = document.getElementById('particles');
  particlesContainer.innerHTML = '';
  
  for (let i = 0; i < 30; i++) {
    const particle = document.createElement('div');
    particle.className = 'particle';
    particle.style.left = Math.random() * 100 + '%';
    particle.style.top = Math.random() * 100 + '%';
    particle.style.animationDelay = Math.random() * 15 + 's';
    particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
    particle.style.width = particle.style.height = Math.random() * 4 + 2 + 'px';
    particle.style.opacity = '0.3';
    particlesContainer.appendChild(particle);
  }
}

// Create animated particles when weather is fetched
function createWeatherParticles() {
  const particlesContainer = document.getElementById('particles');
  particlesContainer.innerHTML = '';
  
  for (let i = 0; i < 50; i++) {
    const particle = document.createElement('div');
    particle.className = 'particle';
    particle.style.left = Math.random() * 100 + '%';
    particle.style.animationDelay = Math.random() * 15 + 's';
    particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
    particle.style.width = particle.style.height = Math.random() * 6 + 2 + 'px';
    particlesContainer.appendChild(particle);
  }
}

function getWeatherIcon(condition) {
  const conditionLower = condition.toLowerCase();
  if (conditionLower.includes('sun') || conditionLower.includes('clear')) return '‚òÄÔ∏è';
  if (conditionLower.includes('cloud')) return '‚òÅÔ∏è';
  if (conditionLower.includes('rain') || conditionLower.includes('drizzle')) return 'üåßÔ∏è';
  if (conditionLower.includes('snow')) return '‚ùÑÔ∏è';
  if (conditionLower.includes('thunder') || conditionLower.includes('storm')) return '‚õàÔ∏è';
  if (conditionLower.includes('mist') || conditionLower.includes('fog')) return 'üå´Ô∏è';
  return 'üå§Ô∏è';
}

function setBackgroundByWeather(condition) {
  const body = document.body;
  body.className = ''; // Remove all classes
  
  const conditionLower = condition.toLowerCase();
  if (conditionLower.includes('sun') || conditionLower.includes('clear')) {
    body.classList.add('sunny');
  } else if (conditionLower.includes('cloud')) {
    body.classList.add('cloudy');
  } else if (conditionLower.includes('rain') || conditionLower.includes('drizzle')) {
    body.classList.add('rainy');
  } else if (conditionLower.includes('snow')) {
    body.classList.add('snowy');
  } else if (conditionLower.includes('thunder') || conditionLower.includes('storm')) {
    body.classList.add('stormy');
  } else if (conditionLower.includes('mist') || conditionLower.includes('fog')) {
    body.classList.add('misty');
  } else {
    body.classList.add('default');
  }
  
  // Create animated particles when weather background changes
  createWeatherParticles();
}

// Generate realistic weather data based on location and season
function generateRealisticWeather(locationName, lat, lon) {
  const seasons = {
    winter: ['Cloudy', 'Snowy', 'Clear sky', 'Light rain'],
    spring: ['Partly cloudy', 'Clear sky', 'Light rain', 'Cloudy'],
    summer: ['Clear sky', 'Partly cloudy', 'Thunderstorm'],
    autumn: ['Cloudy', 'Light rain', 'Partly cloudy', 'Clear sky']
  };

  // Determine season based on month (simplified)
  const month = new Date().getMonth();
  let season;
  if (month >= 11 || month <= 1) season = 'winter';
  else if (month >= 2 && month <= 4) season = 'spring';
  else if (month >= 5 && month <= 7) season = 'summer';
  else season = 'autumn';

  // Adjust for southern hemisphere
  if (lat < 0) {
    const seasonMap = { winter: 'summer', spring: 'autumn', summer: 'winter', autumn: 'spring' };
    season = seasonMap[season];
  }

  const conditions = seasons[season];
  const condition = conditions[Math.floor(Math.random() * conditions.length)];

  // Generate temperature based on location and season
  let baseTemp;
  if (Math.abs(lat) < 30) baseTemp = 25; // Tropical
  else if (Math.abs(lat) < 60) baseTemp = 15; // Temperate
  else baseTemp = 5; // Polar

  // Seasonal adjustment
  const seasonalAdjust = { winter: -10, spring: 0, summer: 10, autumn: 0 };
  baseTemp += seasonalAdjust[season];

  const temp = Math.round(baseTemp + (Math.random() * 20 - 10));
  const feelsLike = temp + Math.round(Math.random() * 6 - 3);
  const humidity = Math.round(Math.random() * 40 + 40);
  const wind = Math.round(Math.random() * 25 + 5);
  const windDirection = Math.round(Math.random() * 360);

  return { temp, feelsLike, humidity, wind, windDirection, condition };
}

// Weather fetching function with fallback to realistic simulation
async function getWeather() {
  const input = document.getElementById("locationInput").value.trim();
  const lang = document.getElementById("languageSelect").value;
  const resultDiv = document.getElementById("weatherResult");

  if (!input) {
    resultDiv.innerHTML = `<span style='color:red;'>${translations[lang].error}</span>`;
    return;
  }

  resultDiv.innerHTML = `<span>${translations[lang].result(input)} <div class="loading"></div></span>`;

  try {
    let locationName, country, lat, lon;

    // Use selected location data if available
    if (selectedLocationData) {
      locationName = selectedLocationData.name;
      country = selectedLocationData.country;
      lat = selectedLocationData.lat;
      lon = selectedLocationData.lon;
    } else {
      // Find location in popular cities
      const city = popularCities.find(city => 
        city.name.toLowerCase().includes(input.toLowerCase()) ||
        input.toLowerCase().includes(city.name.toLowerCase())
      );

      if (city) {
        locationName = city.name;
        country = city.country;
        lat = city.lat;
        lon = city.lon;
      } else {
        // Use input as location name with default coordinates
        locationName = input;
        country = "";
        lat = 28.7041; // Default to Delhi coordinates
        lon = 77.1025;
      }
    }

    // Try real API first, fallback to simulation
    let weatherData;
    try {
      const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${locationName}&appid=e95185b6ba3e43b689a32737250410&units=metric`);
      if (response.ok) {
        const data = await response.json();
        weatherData = {
          temp: Math.round(data.main.temp),
          feelsLike: Math.round(data.main.feels_like),
          humidity: data.main.humidity,
          wind: Math.round(data.wind.speed * 3.6), // Convert m/s to km/h
          windDirection: data.wind.deg || 0,
          condition: data.weather[0].description
        };
      } else {
        throw new Error('API failed');
      }
    } catch (error) {
      // Use realistic simulation
      weatherData = generateRealisticWeather(locationName, lat, lon);
    }

    const icon = getWeatherIcon(weatherData.condition);
    
    // Set dynamic background based on weather
    setBackgroundByWeather(weatherData.condition);

    resultDiv.innerHTML = `
      <div class="weather-card">
        <h3>üåç ${locationName}${country ? ', ' + country : ''}</h3>
        <div class="weather-icon">${icon}</div>
        <div class="temperature">${weatherData.temp}¬∞C</div>
        <p><b>${weatherData.condition}</b></p>
        <div class="weather-details">
          <div class="detail-item">
            <strong>üå°Ô∏è Feels Like</strong><br>
            ${weatherData.feelsLike}¬∞C
          </div>
          <div class="detail-item">
            <strong>üíß Humidity</strong><br>
            ${weatherData.humidity}%
          </div>
          <div class="detail-item">
            <strong>üå¨Ô∏è Wind Speed</strong><br>
            ${weatherData.wind} km/h
          </div>
          <div class="detail-item">
            <strong>üß≠ Wind Direction</strong><br>
            ${weatherData.windDirection}¬∞
          </div>
        </div>
        <div class="demo-note">
          üí° This demo uses simulated weather data based on realistic patterns for different locations and seasons.
        </div>
      </div>
    `;

    // Reset selected location data
    selectedLocationData = null;
    
  } catch (error) {
    console.error('Weather Error:', error);
    resultDiv.innerHTML = `<span style='color:red;'>${translations[lang].error}</span>`;
  }
}

// Initialize with static particles on page load - no background animation
document.addEventListener("DOMContentLoaded", function() {
  createStaticParticles();
  setLanguage();
});
</script>
</body>
</html>